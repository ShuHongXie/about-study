<!--
 * @Author: 谢树宏
 * @Date: 2022-02-15 10:48:44
 * @LastEditors: 谢树宏 384180258@qq.com
 * @LastEditTime: 2023-06-08
 * @FilePath: /about-study/小程序.md
-->

https://juejin.cn/post/6844903879876804622#heading-2

1. 骨架屏
2. 数据预请求
3. 分包，独立分包(活动页)，分包预下载，按需注入
4. setData 的精简合并，移除非视图层数据
5. 数据缓存(LRU 详情页缓存，最近最少使用算法)
6. 首屏直出/骨架屏，将第一屏的数据存储起来给到第二屏，做一个简单渲染
7. 请求前置

### 小程序性能衡量指标

1. 首次渲染时间(onLoad 到 onShow)：页面首次渲染完成，表示页面已经加载可以和视图层交互；

2. 首屏加载时间(onLoad 到 this.setData 回调完)：首屏部分的内容已经渲染完成，用户可以看到首屏；

### 避免性能问题

1. 避免频繁调用setData
2. 避免庞大的数据量去调用setData
3. 避免页面复杂繁多的dom结构