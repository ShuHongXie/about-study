<!--
 * @Author: 谢树宏
 * @Date: 2022-03-07 14:43:01
 * @LastEditors: 谢树宏
 * @LastEditTime: 2022-03-07 15:20:28
 * @FilePath: /about-study/深入理解计算机系统/01.编译过程和硬件.md
-->

### 编译过程

```c
// hello.c
#include <stdio.h>

int main() {
  printf("hello word");
  return 0;
}
```

一个 C 语言语句是如何编译成可执行文件的？

![](https://www.xiesmallxie.cn/20220307144454.png)

1. 预处理阶段，预处理器 CPP 根据字符#开头的命令，修改原始的 C 语言程序，插入程序文本中，结果就得到了另外一个 C 程序，通常以.i 作为文件扩展名
2. 编译阶段，编译器 ccl 将文本文件 hello.i 翻译成文本文件 hello.s,他包含一个汇编语言程序，包含了内部 main 函数的定义
3. 汇编阶段，汇编器 as 将 hello.s 翻译成机器语言指令，将结果文件保存在二进制文件 hello.o 中
4. 链接阶段，链接器处理 C 特有的 printf 函数，合并到 hello.o 中，得到 hello.o 文件

### 计算机硬件组成

1. 总线：一个系统通道，携带信息字节并负责在各个部件见传播
2. IO 设备：每个 IO 设置都通过一个控制器或适配器与 I/O 总线相连，控制器是主板上的芯片组，适配器是器是插在主板插槽上的卡
3. 主存：主存由动态随机存储器（RAM）芯片组成，是一个线性的字节数组
4. 处理器 CPU
